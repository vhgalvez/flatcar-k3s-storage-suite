# site.yml
---

- name: ğŸ” 1 - Generar token JWT en master con permisos correctos
  import_playbook: playbooks/01_generate_token.yml

- name: ğŸ”§ 2 - Preparar nodo controlador (kubectl + helm)
  import_playbook: playbooks/02_prepare_controller.yml

- name: ğŸ”‘ 2.1 - Configurar acceso del controlador al clÃºster (kubeconfig + token)
  import_playbook: playbooks/configure_k8s_access.yml

- name: ğŸ“€ 3 - Preparar almacenamiento en nodo storage y workers
  import_playbook: playbooks/03_prepare_storage-workers.yml

- name: ğŸš€ 4 - Desplegar Longhorn desde controller
  import_playbook: playbooks/04_deploy_longhorn.yml